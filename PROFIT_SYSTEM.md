# ๐ฐ ุณุณุชู ูุญุงุณุจู ุณูุฏ

## ุงููุงุน ุณูุฏ

ุณุณุชู ุฏู ููุน ุณูุฏ ุฑุง ูุญุงุณุจู ู ูพฺฏุฑ ูโฺฉูุฏ:

### 1๏ธโฃ ุณูุฏ ููุฏ (Cash Profit)
ุณูุฏ ุญุงุตู ุงุฒ ุชูุงูุช ููุช ุฎุฑุฏ ู ูุฑูุด ฺฏูุด

**ูุฑููู:**
```
ุณูุฏ ููุฏ = ููุช ูุฑูุด - ููุช ุฎุฑุฏ
```

**ูุซุงู:**
- ููุช ุฎุฑุฏ: ฒต,ฐฐฐ,ฐฐฐ ุชููุงู
- ููุช ูุฑูุด: ณฐ,ฐฐฐ,ฐฐฐ ุชููุงู
- **ุณูุฏ ููุฏ: ต,ฐฐฐ,ฐฐฐ ุชููุงู**

### 2๏ธโฃ ุณูุฏ ุงูุณุงุท (Installment Profit)
ุณูุฏ ุงุถุงู ฺฉู ุฑู ูุฑูุด ุงูุณุงุท ฺฏุฑูุชู ูโุดูุฏ

**ูุฑููู:**
```
ุณูุฏ ุงูุณุงุท = (ูพุดโูพุฑุฏุงุฎุช + ูุฌููุน ุงูุณุงุท) - ููุช ูุฑูุด
```

**ูุซุงู:**
- ููุช ูุฑูุด: ฑต,ฐฐฐ,ฐฐฐ ุชููุงู
- ูพุดโูพุฑุฏุงุฎุช: ต,ฐฐฐ,ฐฐฐ ุชููุงู
- ุชุนุฏุงุฏ ุงูุณุงุท: ฑฐ ูุงู
- ูุณุท ูุงูุงูู: ฑ,ฐฐฐ,ฐฐฐ ุชููุงู
- ูุฌููุน ุฏุฑุงูุช: ต,ฐฐฐ,ฐฐฐ + (ฑ,ฐฐฐ,ฐฐฐ ร ฑฐ) = ฑต,ฐฐฐ,ฐฐฐ ุชููุงู
- **ุณูุฏ ุงูุณุงุท: ฑต,ฐฐฐ,ฐฐฐ - ฑต,ฐฐฐ,ฐฐฐ = ฐ ุชููุงู**

ุงฺฏุฑ ูุณุท ูุงูุงูู ฑ,ตฐฐ,ฐฐฐ ุชููุงู ุจุงุดุฏ:
- ูุฌููุน ุฏุฑุงูุช: ต,ฐฐฐ,ฐฐฐ + (ฑ,ตฐฐ,ฐฐฐ ร ฑฐ) = ฒฐ,ฐฐฐ,ฐฐฐ ุชููุงู
- **ุณูุฏ ุงูุณุงุท: ฒฐ,ฐฐฐ,ฐฐฐ - ฑต,ฐฐฐ,ฐฐฐ = ต,ฐฐฐ,ฐฐฐ ุชููุงู**

### 3๏ธโฃ ุณูุฏ ฺฉู (Total Profit)
```
ุณูุฏ ฺฉู = ุณูุฏ ููุฏ + ุณูุฏ ุงูุณุงุท
```

## ุชูุฒุน ุณูุฏ ุจู ุดุฑฺฉุง

ุณูุฏ ุจู ุดุฑฺฉุง ุจุฑ ุงุณุงุณ **ูุณุจุช ุณุฑูุงู** ุชูุณู ูโุดูุฏ:

**ูุฑููู:**
```
ุณูู ุดุฑฺฉ = (ุณุฑูุงู ุดุฑฺฉ / ุณุฑูุงู ฺฉู) ร ฑฐฐ
ุณูุฏ ุดุฑฺฉ = (ุณูุฏ ฺฉู ร ุณูู ุดุฑฺฉ) / ฑฐฐ
```

**ูุซุงู:**
- ุดุฑฺฉ ุงูู: ตฐ,ฐฐฐ,ฐฐฐ ุชููุงู (ถฒ.ตูช)
- ุดุฑฺฉ ุฏูู: ณฐ,ฐฐฐ,ฐฐฐ ุชููุงู (ณท.ตูช)
- ุณุฑูุงู ฺฉู: ธฐ,ฐฐฐ,ฐฐฐ ุชููุงู

ุงฺฏุฑ ุณูุฏ ฺฉู ฑฐ,ฐฐฐ,ฐฐฐ ุชููุงู ุจุงุดุฏ:
- ุณูุฏ ุดุฑฺฉ ุงูู: ฑฐ,ฐฐฐ,ฐฐฐ ร ถฒ.ตูช = ถ,ฒตฐ,ฐฐฐ ุชููุงู
- ุณูุฏ ุดุฑฺฉ ุฏูู: ฑฐ,ฐฐฐ,ฐฐฐ ร ณท.ตูช = ณ,ทตฐ,ฐฐฐ ุชููุงู

## ููุงุด ุฏุฑ ุณุณุชู

### ุตูุญู ุดุฑฺฉุง
ูุฑ ฺฉุงุฑุช ุดุฑฺฉ ููุงุด ูโุฏูุฏ:
- โ ุณุฑูุงู
- โ ุณูู (ุฏุฑุตุฏ)
- โ ุณูุฏ ููุฏ ูุญุธูโุง
- โ ุณูุฏ ุงูุณุงุท ูุญุธูโุง
- โ ูุฌููุน ุณูุฏ

### ุตูุญู ุฏุงุดุจูุฑุฏ
ููุงุด ฺฉู:
- โ ุณุฑูุงู ฺฉู
- โ ุณูุฏ ููุฏ ฺฉู
- โ ุณูุฏ ุงูุณุงุท ฺฉู
- โ ุณูุฏ ฺฉู
- โ ูุณุจุช ุณูุฏ ููุฏ ุจู ฺฉู
- โ ูุณุจุช ุณูุฏ ุงูุณุงุท ุจู ฺฉู

### ุตูุญู ูุฑูุด
ููฺฏุงู ุซุจุช ูุฑูุด:
- โ ูพุดโููุงุด ูุญุงุณุจุงุช
- โ ููุงุด ูุณุท ูุงูุงูู
- โ ููุงุด ูุจูุบ ฺฉู ุฏุฑุงูุช
- โ ููุงุด ุณูุฏ ุงูุณุงุท

## ฺฉุฏ ูุฑุจูุทู

### ูุญุงุณุจู ุณูุฏ
ูุงู: `src/lib/profitCalculator.ts`

```typescript
export function calculateProfits(): ProfitSummary
export function calculatePartnerProfit(partnerId: string): PartnerProfit | null
export function calculateSaleInstallmentProfit(...): number
```

### ุฐุฎุฑูโุณุงุฒ
ูุงู: `src/lib/store.ts`

```typescript
interface Sale {
  // ...
  installmentProfit: number; // ุณูุฏ ุงูุณุงุท
}
```

## ูฺฉุงุช ููู

1. **ูุญุงุณุจู ูุญุธูโุง**: ุณูุฏ ูุฑ ุดุฑฺฉ ุจู ุตูุฑุช ูุญุธูโุง ู ุจุฑ ุงุณุงุณ ุขุฎุฑู ุฏุงุฏูโูุง ูุญุงุณุจู ูโุดูุฏ

2. **ุณูุฏ ููุฏ**: ููุท ุจุฑุง ฺฏูุดโูุง ูุฑูุฎุชู ุดุฏู ูุญุงุณุจู ูโุดูุฏ

3. **ุณูุฏ ุงูุณุงุท**: ุฏุฑ ุฒูุงู ุซุจุช ูุฑูุด ูุญุงุณุจู ู ุฐุฎุฑู ูโุดูุฏ

4. **ุชุบุฑ ุณุฑูุงู**: ุงฺฏุฑ ุณุฑูุงู ุดุฑฺฉุง ุชุบุฑ ฺฉูุฏุ ุณูู ู ุณูุฏ ุขูโูุง ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุจุฑูุฒุฑุณุงู ูโุดูุฏ

5. **ุฏูุช ูุญุงุณุจุงุช**: ุชูุงู ูุญุงุณุจุงุช ุจุง `Math.round()` ฺฏุฑุฏ ูโุดููุฏ ุชุง ุงุนุฏุงุฏ ุตุญุญ ุจุงุดูุฏ
